<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snusbutik Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        display: flex;
      }
      header {
        background-color: white;
        padding: 15px 0 15px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      
      .logo-container {
        display: flex;
        align-items: center;
        padding-left: 0;
        margin-left: 0;
      }
      
      @media (min-width: 1251px) {
        .logo-container {
          padding-left: 5%;
        }
      }
      
      .logo-img {
        height: 40px;
        width: auto;
        margin-right: 10px;
      }
      .search-container {
        flex-grow: 1;
        margin: 0 20px;
        max-width: 600px;
        position: relative;
      }

      .hamburger-icon {
        display: none;
        font-size: 24px;
        cursor: pointer;
        color: #004687;
        margin-left: 0;
        margin-right: 15px;
        padding-left: 5px;
      }
      
      .nav-sidebar {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 999;
        top: 0;
        left: 0;
        background-color: #004687;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
      }
      
      .nav-sidebar a {
        padding: 15px 25px;
        text-decoration: none;
        font-size: 16px;
        color: white;
        display: block;
        transition: 0.3s;
      }
      
      .nav-sidebar a:hover {
        background-color: #003366;
      }
      
      .nav-sidebar .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
      }
      
      @media (max-width: 1250px) {
        .hamburger-icon {
          display: block;
        }
        
        .nav-container {
          display: none;
        }
      }
     
      
      .search-bar {
        width: 100%;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }
      
      .search-button {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        background-color: #004687;
        color: white;
        border: none;
        border-radius: 0 4px 4px 0;
        padding: 0 15px;
        cursor: pointer;
      }
      
      .cart-button {
        background-color: transparent;
        border: none;
        color: #666;
        padding: 10px 15px;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        position: relative;
      }
      
      .cart-count {
        position: absolute;
        top: 0;
        right: 0;
        background-color: #E31B23;
        color: white;
        font-size: 12px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .nav-container {
        background-color: #004687;
        padding: 0 5%;
        position: sticky; /* fast position */
        top: 0;
        z-index: 100;
      }
      
      
      .main-nav {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
      }
      
      .main-nav li {
        position: relative;
      }
      
      .main-nav a {
        color: white;
        text-decoration: none;
        padding: 15px 20px;
        display: block;
        font-size: 14px;
        transition: background-color 0.3s;
      }
      
      .main-nav a:hover, .main-nav a.active {
        background-color: #003366;
      }
      
      footer a {
        color: #ffffff;
        text-decoration: none;
      }
      
      footer a:hover {
        text-decoration: underline;
      }
      
      footer h4 {
        margin-bottom: 15px;
        font-size: 16px;
      }
      
      footer ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      footer li {
        margin-bottom: 8px;
        font-size: 14px;
      }
      
      .footer-column {
        margin-right: 40px;
        margin-bottom: 20px;
      }
      
      .prenumerera {
        background-color: #E31B23;
      }
      
      .info-bar {
        background-color: #f7f7f7;
        padding: 8px 5%;
        display: flex;
        justify-content: space-around;
        color: #333;
        font-size: 13px;
        border-bottom: 1px solid #eee;
      }
      
      .info-item {
        display: flex;
        align-items: center;
      }
      
      .info-item i {
        margin-right: 5px;
        color: #004687;
      }
      
      .main-content {
        padding: 20px 5%;
      }
      
      .page-title {
        text-align: center;
        font-size: 28px;
        color: #333;
        margin: 20px 0;
      }
      
      footer {
        background-color: #004687;
        color: white;
        padding: 30px 5%;
        margin-top: 40px;
      }
      
      .footer-logo {
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        letter-spacing: 1px;
        margin-bottom: 20px;
      }
      
      .footer-content {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      
      /* Varukorgs-modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        overflow: auto;
      }
      
      .modal-content {
        background-color: white;
        margin: 50px auto;
        padding: 20px;
        width: 80%;
        max-width: 800px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }
      
      .close-button {
        float: right;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
      }
      
      .close-button:hover {
        color: #E31B23;
      }
      
      .tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #ddd;
      }
      
      .tab {
        padding: 10px 20px;
        cursor: pointer;
        font-weight: bold;
      }
      
      .tab.active {
        border-bottom: 3px solid #004687;
        color: #004687;
      }
      
      .tab-content {
        display: none;
      }
      
      .tab-content.active {
        display: block;
      }
      
      .cart-item {
        display: flex;
        padding: 15px 0;
        border-bottom: 1px solid #eee;
        align-items: center;
      }
      
      .cart-item img {
        width: 60px;
        margin-right: 15px;
      }
      
      .cart-item-details {
        flex-grow: 1;
      }
      
      .cart-item-price {
        margin-right: 15px;
        font-weight: bold;
      }
      
      .cart-total {
        margin-top: 20px;
        text-align: right;
        font-size: 18px;
        font-weight: bold;
      }
      
      .checkout-button {
        background-color: #004687;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 4px;
        margin-top: 20px;
        float: right;
      }
      
      .checkout-button:hover {
        background-color: #003366;
      }
      
      .empty-cart {
        text-align: center;
        padding: 30px;
        color: #666;
      }
      
      .order {
        background-color: #f9f9f9;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 4px;
      }
      
      .order-header {
        display: flex;
        justify-content: space-between;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
        margin-bottom: 10px;
      }
      
      .order-items {
        margin-top: 10px;
      }
      
      .empty-orders {
        text-align: center;
        padding: 30px;
        color: #666;
      }
      
      .products {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
      }
      .product {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        width: 200px;
        padding: 15px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      .product img {
        width: 100%;
        height: auto;
        border-radius: 5px;
      }
      .product button {
        background-color: #004aad;
        color: white;
        border: none;
        padding: 10px 15px;
        margin-top: 10px;
        cursor: pointer;
        border-radius: 5px;
        width: 100%;
        font-size: 14px;
        white-space: nowrap;
        overflow: visible;
        text-overflow: ellipsis;
      }
      .product button:hover {
        background-color: #00307a;
      }
      
      .scroll-top-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #004687;
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
        z-index: 100;
      }
      
      .scroll-top-btn.visible {
        opacity: 1;
        visibility: visible;
      }
      
      .scroll-top-btn:hover {
        background-color: #003366;
      }
    </style>
  </head>
  <body>


<div>
    <header>
      <div class="logo-container">
        <span class="hamburger-icon" onclick="openNav()">
          <i class="fas fa-bars"></i>
        </span>
        <a href="index.html">
          <img src="logo.svg" alt="SnusButik" class="logo-img">
        </a>
      </div>
      
      <div class="search-container">
        <input class="search-bar" type="text" placeholder="Hitta ditt snus" />
        <button class="search-button">Sök</button>
      </div>
      
      <button class="cart-button" id="cart-button">
        <i class="fas fa-shopping-cart"></i> <span id="cart-text">Inga varor</span>
        <span class="cart-count" id="cart-count" style="display: none;">0</span>
      </button>
    </header>

    <div id="mySidebar" class="nav-sidebar">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="index.html" class="active"><i class="fas fa-home"></i> Hem</a>
      <a href="nya-priser.html">Nya Priser</a>
      <a href="nyheter.html">Nyheter</a>
      <a href="snussorter.html">Snussorter</a>
      <a href="#">Vitt snus</a>
      <a href="#">Varumärken</a>
      <a href="#">Mixpack</a>
      <a href="#">Bara hos oss</a>
      <a href="#" class="prenumerera">Prenumerera</a>
    </div>

    <div class="nav-container">
      <ul class="main-nav">
        <li><a href="index.html" class="active"><i class="fas fa-home"></i></a></li>
        <li><a href="nya-priser.html">Nya Priser</a></li>
        <li><a href="nyheter.html">Nyheter</a></li>
        <li><a href="snussorter.html">Snussorter</a></li>
        <li><a href="#">Vitt snus</a></li>
        <li><a href="#">Varumärken</a></li>
        <li><a href="#">Mixpack</a></li>
        <li><a href="#">Bara hos oss</a></li>
        <li><a href="#" class="prenumerera">Prenumerera</a></li>
      </ul>
    </div>
    
    <div class="info-bar">
      <div class="info-item">
        <i class="fas fa-check"></i> Fri frakt fr. 99 kr
      </div>
      <div class="info-item">
        <i class="fas fa-check"></i> Sveriges största snusbutik
      </div>
      <div class="info-item">
        <i class="fas fa-check"></i> Utmärkt
      </div>
    </div>

    <div class="main-content">
      <h1 class="page-title">Snus online - Fri frakt fr. 99 kr</h1>
      
      <div class="products">
      <div class="product">
        <img src="zyn-mini-cool-mint-3-mg.webp" alt="Produkt 1" />
        <h3>ZYN Cool Mint</h3>
        <p>35,90kr / 1 dosa</p>
        <button class="buy-button" data-name="ZYN Cool Mint" data-price="35.90" data-image="zyn-mini-cool-mint-3-mg.webp">Köp här</button>
      </div>
      <div class="product">
        <img src="velo-lime-flame.webp" alt="Produkt 2" />
        <h3>Velo lime flame </h3>
        <p>14,99kr / 1 dosa</p>
        <button class="buy-button" data-name="Velo lime flame" data-price="14.99" data-image="velo-lime-flame.webp">Köp här</button>
      </div>
      <div class="product">
        <img src="kaliber-vit-portion.webp" alt="Produkt 3" />
        <h3>Kaliber Vit Portion</h3>
        <p>33,99kr / 1 dosa</p>
        <button class="buy-button" data-name="Kaliber Vit Portion" data-price="33.99" data-image="kaliber-vit-portion.webp">Köp här</button>
      </div>
      <div class="product">
        <img src="lundgrens-skane-strong-1.png" alt="Produkt 4" />
        <h3>Lundgrens Skåne Stark</h3>
        <p>39,99kr / 1 dosa</p>
        <button class="buy-button" data-name="Lundgrens Skåne Stark" data-price="39.99" data-image="lundgrens-skane-strong-1.png">Köp här</button>
      </div>
      <div class="product">
        <img src="lundgrens-skane-vit-portionssnus.png" alt="Produkt 5" />
        <h3>Lundgrens såne</h3>
        <p>39,99kr / 1 dosa</p>
        <button class="buy-button" data-name="Lundgrens såne" data-price="39.99" data-image="lundgrens-skane-vit-portionssnus.png">Köp här</button>
      </div>
    </div>
    
    <footer>
      <div class="footer-logo">NYTT SNUS PÅ NÄTET</div>
      <div class="footer-content">
        <div class="footer-column">
          <h4>Om oss</h4>
          <ul>
            <li><a href="#">Vår historia</a></li>
            <li><a href="#">Kontakt</a></li>
            <li><a href="#">Jobba hos oss</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Kundservice</h4>
          <ul>
            <li><a href="#">Frågor & svar</a></li>
            <li><a href="#">Leveransvillkor</a></li>
            <li><a href="#">Returnera</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Betalning</h4>
          <ul>
            <li><a href="#">Betalningsalternativ</a></li>
            <li><a href="#">Säker betalning</a></li>
          </ul>
        </div>
      </div>
    </footer>
    
    <!-- Scroll to top button -->
    <button id="scrollTopBtn" class="scroll-top-btn" title="Scrolla upp">
      <i class="fas fa-arrow-up"></i> 
    </button>
    
    <!-- Varukorg Modal -->
    <div id="cart-modal" class="modal">
      <div class="modal-content">
        <span class="close-button" id="close-modal">&times;</span>
        <h2>Din varukorg</h2>
        
        <div class="tabs">
          <div class="tab active" id="cart-tab">Varukorg</div>
          <div class="tab" id="orders-tab">Mina beställningar</div>
        </div>
        
        <div class="tab-content active" id="cart-content">
          <div id="cart-items"></div>
          <div id="cart-total" class="cart-total"></div>
          <button id="checkout-button" class="checkout-button">Slutför köp</button>
        </div>
        
        <div class="tab-content" id="orders-content">
          <div id="orders-list"></div>
        </div>
      </div>
    </div>
  </div>
    <script>
      // Hamburger menu functions
      function openNav() {
        document.getElementById("mySidebar").style.width = "250px";
      }
      
      function closeNav() {
        document.getElementById("mySidebar").style.width = "0";
      }
      $(document).ready(function() {
        // Scroll to top button functionality
        const scrollTopBtn = $('#scrollTopBtn');
        
        // Show button when user scrolls down 300px from the top
        $(window).scroll(function() {
          if ($(window).scrollTop() > 300) {
            scrollTopBtn.addClass('visible');
          } else {
            scrollTopBtn.removeClass('visible');
          }
        });
        
        // Smooth scroll to top when button is clicked
        scrollTopBtn.click(function() {
          $('html, body').animate({scrollTop: 0}, 800);
          return false;
        });
        
        // Initialisera varukorg från localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        updateCartDisplay();
        
        // Hantera köpknapp
        $('.buy-button').click(function() {
          const name = $(this).data('name');
          const price = $(this).data('price');
          const image = $(this).data('image');
          
          // Kolla om produkten redan finns i varukorgen
          const existingItemIndex = cart.findIndex(item => item.name === name);
          
          if (existingItemIndex !== -1) {
            // Öka antal om produkten redan finns
            cart[existingItemIndex].quantity++;
          } else {
            // Annars lägg till ny produkt
            cart.push({
              name: name,
              price: price,
              image: image,
              quantity: 1
            });
          }
          
          // Spara varukorg i localStorage och uppdatera visning
          localStorage.setItem('cart', JSON.stringify(cart));
          updateCartDisplay();
          
          // Visa bekräftelsemeddelande
          alert(name + " har lagts till i din varukorg!");
        });
        
        // Öppna varukorgsmodal när man klickar på varukorgsikonen
        $('#cart-button').click(function() {
          $('#cart-modal').css('display', 'block');
          renderCartItems();
          renderOrders();
        });
        
        // Stäng modal när man klickar på X
        $('#close-modal').click(function() {
          $('#cart-modal').css('display', 'none');
        });
        
        // Stäng modal när man klickar utanför innehållet
        $(window).click(function(event) {
          if (event.target == document.getElementById('cart-modal')) {
            $('#cart-modal').css('display', 'none');
          }
        });
        
        // Tabbar för varukorg/beställningar
        $('#cart-tab').click(function() {
          $('.tab').removeClass('active');
          $('.tab-content').removeClass('active');
          $(this).addClass('active');
          $('#cart-content').addClass('active');
        });
        
        $('#orders-tab').click(function() {
          $('.tab').removeClass('active');
          $('.tab-content').removeClass('active');
          $(this).addClass('active');
          $('#orders-content').addClass('active');
        });
        
        // Slutför köp-knapp
        $('#checkout-button').click(function() {
          if (cart.length === 0) {
            alert('Din varukorg är tom!');
            return;
          }
          
          // Skapa en ny beställning
          const order = {
            id: Date.now(),
            date: new Date().toLocaleDateString(),
            items: [...cart],
            total: calculateTotal()
          };
          
          // Lägg till i beställningshistorik
          orders.push(order);
          localStorage.setItem('orders', JSON.stringify(orders));
          
          // Töm varukorgen
          cart = [];
          localStorage.setItem('cart', JSON.stringify(cart));
          
          // Uppdatera gränssnittet
          updateCartDisplay();
          renderCartItems();
          renderOrders();
          
          // Växla till beställningsfliken
          $('.tab').removeClass('active');
          $('.tab-content').removeClass('active');
          $('#orders-tab').addClass('active');
          $('#orders-content').addClass('active');
          
          alert('Tack för din beställning!');
        });
        
        // Funktion för att uppdatera varukorgsikonen
        function updateCartDisplay() {
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          
          if (totalItems > 0) {
            $('#cart-count').text(totalItems).show();
            $('#cart-text').text(totalItems + ' varor');
          } else {
            $('#cart-count').hide();
            $('#cart-text').text('Inga varor');
          }
        }
        
        // Funktion för att beräkna totalsumma
        function calculateTotal() {
          return cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        }
        
        // Funktion för att visa varukorgsinnehållet
        function renderCartItems() {
          const cartItemsContainer = $('#cart-items');
          cartItemsContainer.empty();
          
          if (cart.length === 0) {
            cartItemsContainer.html('<div class="empty-cart">Din varukorg är tom</div>');
            $('#cart-total').text('');
            $('#checkout-button').hide();
            return;
          }
          
          $('#checkout-button').show();
          
          cart.forEach((item, index) => {
            const itemElement = $(`
              <div class="cart-item">
                <img src="${item.image}" alt="${item.name}">
                <div class="cart-item-details">
                  <h4>${item.name}</h4>
                  <p>Antal: ${item.quantity}</p>
                </div>
                <div class="cart-item-price">${(item.price * item.quantity).toFixed(2)} kr</div>
                <button class="remove-item" data-index="${index}">Ta bort</button>
              </div>
            `);
            
            cartItemsContainer.append(itemElement);
          });
          
          // Visa total
          $('#cart-total').text('Totalt: ' + calculateTotal().toFixed(2) + ' kr');
          
          // Lägg till eventlyssnare för ta bort-knapparna
          $('.remove-item').click(function() {
            const index = $(this).data('index');
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            renderCartItems();
          });
        }
        
        // Funktion för att visa beställningar
        function renderOrders() {
          const ordersContainer = $('#orders-list');
          ordersContainer.empty();
          
          if (orders.length === 0) {
            ordersContainer.html('<div class="empty-orders">Du har inga tidigare beställningar</div>');
            return;
          }
          
          orders.forEach(order => {
            const orderElement = $(`
              <div class="order">
                <div class="order-header">
                  <div><strong>Order #${order.id.toString().slice(-5)}</strong></div>
                  <div>${order.date}</div>
                </div>
                <div>Totalt: ${order.total.toFixed(2)} kr</div>
                <div class="order-items">
                  ${order.items.map(item => 
                    `<div>${item.quantity}x ${item.name}</div>`
                  ).join('')}
                </div>
              </div>
            `);
            
            ordersContainer.append(orderElement);
          });
        }
      });
    </script>
  </body>
</html>
 